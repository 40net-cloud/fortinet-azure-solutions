{
  "name": "instancetypeinfo",
  "type": "Microsoft.Common.InfoBox",
  "visible": true,
  "options": {
    "icon": "Info",
    "text": "FortiGate Deployment Type - Active/Active - External and Internal Load Balancers - Availability Set or Availability Zones",
    "uri": "https://github.com/fortinet/azure-templates/tree/main/FortiGate/Active-Active-ELB-ILB"
  }
}
{
  "name": "adminUsername",
  "type": "Microsoft.Common.TextBox",
  "label": "FortiGate administrative username",
  "defaultValue": "",
  "toolTip": "Username for the FortiGate virtual appliance. May not be root, administrator or admin",
  "constraints": {
    "required": true,
    "validations": [
      {
        "regex": "^[a-z0-9A-Z]{1,30}$",
        "message": "Only alphanumeric characters are allowed, and the value must be 1-30 characters long"
      },
      {
        "isValid": "[not(contains(toLower(basics('adminUsername')),'root'))]",
        "message": "Usernames must not include reserved words"
      },
      {
        "isValid": "[not(contains(toLower(basics('adminUsername')),'admin'))]",
        "message": "Usernames must not include reserved words"
      }
    ]
  },
  "visible": true
}
{
  "name": "adminPassword",
  "type": "Microsoft.Common.PasswordBox",
  "label": {
    "password": "FortiGate password",
    "confirmPassword": "Confirm password"
  },
  "toolTip": "Password for the Virtual Machine",
  "constraints": {
    "required": true,
    "regex": "^(?:(?=.*[a-z])(?:(?=.*[A-Z])(?=.*[\\d\\W])|(?=.*\\W)(?=.*\\d))|(?=.*\\W)(?=.*[A-Z])(?=.*\\d)).{12,}$",
    "validationMessage": "The password must be between 12 characters and 72 characters, and contain characters from at least 3 of the following 4 complexity requirements: uppercase characters, lowercase characters, numbers, and special characters (regex match [\\W_])."
  },
  "options": {
    "hideConfirmation": false
  },
  "visible": true
}
{
  "name": "fortiGateNamePrefix",
  "type": "Microsoft.Common.TextBox",
  "label": "FortiGate Name Prefix",
  "defaultValue": "",
  "toolTip": "Naming prefix for all deployed resources. The FortiGate VMs will have the suffix '-FGT-A' and '-FGT-B'. For example if the prefix is 'ACME-01' the FortiGates will be named 'ACME-01-FGT-A' and 'ACME-01-FGT-B'",
  "constraints": {
    "required": true,
    "regex": "^[A-Za-z0-9]{1,15}$",
    "validationMessage": "Only alphanumeric characters are allowed, and the value must be 1 to 15 characters."
  },
  "visible": true
}
{
  "name": "fortiGateImageSKU",
  "type": "Microsoft.Common.DropDown",
  "label": "FortiGate Image SKU",
  "defaultValue": "Bring Your Own License",
  "toolTip": "Identifies whether to to use PAYG (on demand licensing) or BYOL license model (where license is purchased separately)",
  "constraints": {
    "required": false,
    "allowedValues": [
      {
        "label": "Bring Your Own License",
        "value": "fortinet_fg-vm"
      },
      {
        "label": "Pay As You Go",
        "value": "fortinet_fg-vm_payg_20190624"
      }
    ]
  },
  "visible": true
}
{
  "name": "fortiGateImageVersion",
  "type": "Microsoft.Common.DropDown",
  "label": "FortiGate Image Version",
  "defaultValue": "latest",
  "toolTip": "Select the FortiGate image version",
  "constraints": {
    "required": false,
    "allowedValues": [
      {
        "label": "6.2.0",
        "value": "6.2.0"
      },
      {
        "label": "6.2.2",
        "value": "6.2.2"
      },
      {
        "label": "6.2.4",
        "value": "6.2.4"
      },
      {
        "label": "6.2.5",
        "value": "6.2.5"
      },
      {
        "label": "6.4.0",
        "value": "6.4.0"
      },
      {
        "label": "6.4.2",
        "value": "6.4.2"
      },
      {
        "label": "6.4.3",
        "value": "6.4.3"
      },
      {
        "label": "6.4.5",
        "value": "6.4.5"
      },
      {
        "label": "6.4.6",
        "value": "6.4.6"
      },
      {
        "label": "6.4.7",
        "value": "6.4.7"
      },
      {
        "label": "6.4.8",
        "value": "6.4.8"
      },
      {
        "label": "7.0.0",
        "value": "7.0.0"
      },
      {
        "label": "7.0.1",
        "value": "7.0.1"
      },
      {
        "label": "7.0.2",
        "value": "7.0.2"
      },
      {
        "label": "7.0.3",
        "value": "7.0.3"
      },
      {
        "label": "7.0.4",
        "value": "7.0.4"
      },
      {
        "label": "7.0.5",
        "value": "7.0.5"
      },
      {
        "label": "latest",
        "value": "latest"
      }
    ]
  },
  "visible": true
}
{
  "name": "availabilityOptions",
  "type": "Microsoft.Common.DropDown",
  "label": "FortiGate Availability Options",
  "defaultValue": "Availability Set",
  "toolTip": "Deploy FortiGate VMs in an Availability Set or Availability Zones. If Availability Zones deployment is selected but the location does not support Availability Zones an Availability Set will be deployed. If Availability Zones deployment is selected and Availability Zones are available in the location, FortiGate A will be placed in Zone 1, FortiGate B will be placed in Zone 2",
  "constraints": {
    "required": false,
    "allowedValues": [
      {
        "label": "Availability Set",
        "value": "Availability Set"
      },
      {
        "label": "Availability Zones",
        "value": "Availability Zones"
      }
    ]
  },
  "visible": true
}
